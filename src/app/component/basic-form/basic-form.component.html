<div *ngIf="visible" class="container-fluid">
    <div fxLayout="row" class="d-flex justify-content-center basic-form">
        <mat-card class="w100">
            <ngb-alert type="danger" *ngIf="submitFailed" (close)="submitFailed = false">
                Une erreur est survenue.
            </ngb-alert>
            <button class="basic-close-btn btn btn-outline-danger" (click)="close()">
                X
            </button>
            <mat-spinner *ngIf="loading" [diameter]="20"></mat-spinner>
            <mat-card-title class="text-center">Profile</mat-card-title>
            <mat-card-content>
                <form class="d-flex flex-column justify-content-center align-items-center form-content" [formGroup]="userForm">
                    <mat-form-field>
                        <input matInput
                               placeholder="Prénom"
                               formControlName="fname"/>
                    </mat-form-field>
                    <mat-form-field>
                        <input matInput
                               placeholder="Nom"
                               formControlName="lname"/>
                    </mat-form-field>
                    <mat-form-field>
                        <input matInput
                               placeholder="Email"
                               formControlName="email"/>
                    </mat-form-field>
                    <mat-form-field>
                        <input matInput
                               placeholder="Téléphone"
                               formControlName="phone"/>
                    </mat-form-field>
                    <mat-form-field>
                        <input matInput
                               placeholder="Ville"
                               formControlName="city"/>
                    </mat-form-field>
                    <mat-form-field>
                        <input matInput
                               placeholder="Mot de passe"
                               type="password"
                               formControlName="password"/>
                    </mat-form-field>
                </form>
                <div class="w-100" style="text-align: center;">
                    <button *ngIf="visible" class="mt-3 btn btn-outline-danger"
                            name="modif"
                            mat-flat-button
                            [disabled]="loading || userForm.invalid"
                            (click)="saveProfile()"
                            color="primary">
                        <span>Enregistrer</span>
                    </button>
                </div>
            </mat-card-content>
        </mat-card>
    </div>
</div>